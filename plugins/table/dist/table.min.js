!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@carry0987/paginator")):"function"==typeof define&&define.amd?define(["exports","@carry0987/paginator"],t):t(((n="undefined"!=typeof globalThis?globalThis:n||self).paginatorjs=n.paginatorjs||{},n.paginatorjs.plugins=n.paginatorjs.plugins||{},n.paginatorjs.plugins.table={}),n.paginatorjs)}(this,(function(n,t){"use strict";var e;e={__e:function(n,t,e,o){for(var a,l,r;t=t.__;)if((a=t.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(n)),r=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(n,o||{}),r=a.__d),r)return a.__E=a}catch(t){n=t}throw n}},"function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;var o=0;function a(n,t,a,l,r,i){t||(t={});var s,c,d=t;"ref"in t&&(s=t.ref,delete t.ref);var u={type:n,props:d,key:a,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--o,__i:-1,__u:0,__source:r,__self:i};if("function"==typeof n&&(s=n.defaultProps))for(c in s)void 0===d[c]&&(d[c]=s[c]);return e.vnode&&e.vnode(u),u}function l(n){const e=t.pluginAPI.useConfig();return a("td",{role:n.role,colSpan:n.colSpan,"data-column-id":n.column&&n.column.id,className:t.pluginUtil.classJoin(t.pluginUtil.className("td")),style:{...n.style},onClick:t=>{n.messageCell||e.eventEmitter.emit("cellClick",t,n.cell,n.column,n.row)},children:n.column&&"function"==typeof n.column.formatter?n.column.formatter(n.cell.data,n.row,n.column):n.column&&n.column.plugin?a(t.pluginUtil.PluginRenderer,{pluginId:n.column.id,props:{column:n.column,cell:n.cell,row:n.row}}):n.cell.data})}function r(n){const e=t.pluginAPI.useConfig(),o=t.pluginAPI.useSelector((n=>n.header));return a("tr",{className:t.pluginUtil.classJoin(t.pluginUtil.className("tr")),onClick:t=>{n.messageRow||e.eventEmitter.emit("rowClick",t,n.row)},children:n.children?n.children:n.row.cells.map(((e,r)=>{const i=(n=>{if(o){const e=t.pluginUtil.leafColumns(o.columns);if(e[n])return e[n]}return null})(r);return i&&i.hidden?null:a(l,{cell:e,row:n.row,column:i},e.id)}))})}function i(n){return a("th",{ref:t.pluginAPI.useRef(null),"data-column-id":n.column&&n.column.id,className:t.pluginUtil.classJoin(t.pluginUtil.className("th")),onClick:n=>{n.stopPropagation()},style:{minWidth:n.column.minWidth,width:n.column.width,...n.style},rowSpan:"number"==typeof n.rowSpan&&n.rowSpan>1?n.rowSpan:void 0,colSpan:"number"==typeof n.colSpan&&n.colSpan>1?n.colSpan:void 0,children:a("div",{className:t.pluginUtil.className("th","content"),children:void 0!==n.column.name?n.column.name:void 0!==n.column.plugin?a(t.pluginUtil.PluginRenderer,{pluginId:n.column.plugin.id,props:{column:n.column}}):null})})}function s(){const n=t.pluginAPI.useSelector((n=>n.header)),e=(n,t,e,o)=>{const{rowSpan:l,colSpan:r}=function(n,t,e){const o=n.length-1,a=e-t;return{rowSpan:Math.floor(a-o-o/a),colSpan:n.columns&&n.columns.length||1}}(n,t,o);return a(i,{column:n,index:e,colSpan:r,rowSpan:l})},o=()=>{const o=t.pluginUtil.tabularFormat(n?.columns||[]);return o.map(((l,i)=>((o,l,i)=>{if(!n)return null;const s=t.pluginUtil.leafColumns(n.columns);return a(r,{children:o.map((n=>n.hidden?null:e(n,l,s.indexOf(n),i)))})})(l,i,o.length)))};return n?a("thead",{className:t.pluginUtil.classJoin(t.pluginUtil.className("thead")),children:o()},n.id):null}function c(n){return a(r,{messageRow:!0,children:a(l,{role:"alert",colSpan:n.colSpan,messageCell:!0,cell:{data:n.message},className:t.pluginUtil.classJoin(t.pluginUtil.className("message"),n.className?n.className:null)})})}function d(){const n=t.pluginUtil.Status,e=t.pluginAPI.useSelector((n=>n.tabular)),o=t.pluginAPI.useSelector((n=>n.status)),l=t.pluginAPI.useSelector((n=>n.header)),i=t.pluginAPI.useTranslator(),s=e?.data,d=()=>l?l.visibleColumns.length:0;return a("tbody",{className:t.pluginUtil.classJoin(t.pluginUtil.className("tbody")),children:[e&&e.data.map((n=>a(r,{row:n},n.id))),o===n.Loading&&(!s||0===s.length)&&a(c,{message:i("loading"),colSpan:d(),className:t.pluginUtil.classJoin(t.pluginUtil.className("loading"))}),o===n.Rendered&&s&&0===s.length&&a(c,{message:i("noRecordsFound"),colSpan:d(),className:t.pluginUtil.classJoin(t.pluginUtil.className("notfound"))}),o===n.Error&&a(c,{message:i("error"),colSpan:d(),className:t.pluginUtil.classJoin(t.pluginUtil.className("error"))})]})}!function(n,t){void 0===t&&(t={});var e=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===e&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}("/* Main Colors */\n/* Light theme */\n/* Dark theme */\n:root {\n  --paginatorjs-table-background: #fff;\n  --paginatorjs-table-border: #e5e7eb;\n  --paginatorjs-th-background: #f9fafb;\n  --paginatorjs-th-color: #6b7280;\n  --paginatorjs-td-background: #fff;\n  --paginatorjs-td-color: #3d4044;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --paginatorjs-table-background: #121212;\n    --paginatorjs-table-border: #373737;\n    --paginatorjs-th-background: #1f1f1f;\n    --paginatorjs-th-color: #c4c4c4;\n    --paginatorjs-td-background: #121212;\n    --paginatorjs-td-color: #bcc7d2;\n  }\n}\nhtml[data-theme=dark] {\n  --paginatorjs-table-background: #121212;\n  --paginatorjs-table-border: #373737;\n  --paginatorjs-th-background: #1f1f1f;\n  --paginatorjs-th-color: #c4c4c4;\n  --paginatorjs-td-background: #121212;\n  --paginatorjs-td-color: #bcc7d2;\n}\n\ntable.paginatorjs-table {\n  width: 100%;\n  max-width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n  display: table;\n  margin: 0;\n  padding: 0;\n  overflow: auto;\n  table-layout: fixed;\n}\n\n/* Main Colors */\n/* Light theme */\n/* Dark theme */\n.paginatorjs-tbody {\n  box-sizing: border-box;\n}\n\n/* Main Colors */\n/* Light theme */\n/* Dark theme */\ntd.paginatorjs-td {\n  border: 1px solid var(--paginatorjs-table-border);\n  padding: 12px 24px;\n  color: var(--paginatorjs-td-color);\n  background-color: var(--paginatorjs-td-background);\n  box-sizing: content-box;\n}\ntd.paginatorjs-td:first-child {\n  border-left: none;\n}\ntd.paginatorjs-td:last-child {\n  border-right: none;\n}\ntd.paginatorjs-message {\n  text-align: center;\n}\n\n/* Main Colors */\n/* Light theme */\n/* Dark theme */\nth.paginatorjs-th {\n  position: relative;\n  color: var(--paginatorjs-th-color);\n  background-color: var(--paginatorjs-th-background);\n  border: 1px solid var(--paginatorjs-table-border);\n  border-top: none;\n  padding: 14px 24px;\n  user-select: none;\n  box-sizing: border-box;\n  white-space: nowrap;\n  outline: none;\n  vertical-align: middle;\n}\nth.paginatorjs-th .paginatorjs-th-content {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n  float: left;\n}\nth.paginatorjs-th-sort {\n  cursor: pointer;\n}\nth.paginatorjs-th-sort .paginatorjs-th-content {\n  width: calc(100% - 15px);\n}\nth.paginatorjs-th-sort:hover {\n  background-color: #e5e7eb;\n}\nth.paginatorjs-th-sort:focus {\n  background-color: #e5e7eb;\n}\nth.paginatorjs-th-fixed {\n  position: sticky;\n  box-shadow: 0 1px 0 0 #e5e7eb;\n}\n@supports (-moz-appearance: none) {\n  th.paginatorjs-th-fixed {\n    box-shadow: 0 0 0 1px #e5e7eb;\n  }\n}\nth.paginatorjs-th:first-child {\n  border-left: none;\n}\nth.paginatorjs-th:last-child {\n  border-right: none;\n}\n\n/* Main Colors */\n/* Light theme */\n/* Dark theme */\n.paginatorjs-tr {\n  border: none;\n}\n.paginatorjs-tr-selected td {\n  background-color: #ebf5ff;\n}\n.paginatorjs-tr:last-child td {\n  border-bottom: 0;\n}\n\n/* Main Colors */\n/* Light theme */\n/* Dark theme */\n.paginatorjs-thead {\n  box-sizing: border-box;\n}");const u=()=>{const n=t.pluginAPI.useRef(null),{dispatch:e}=t.pluginAPI.useStore();return t.pluginAPI.useEffect((()=>{n&&e((n=>t=>({...t,tableRef:n}))(n))}),[n]),a("table",{ref:n,role:"table",className:t.pluginUtil.classJoin(t.pluginUtil.className("table")),children:[a(s,{}),a(d,{})]})},p={id:"tablePlugin",component:u,position:t.PluginPosition.Body,order:1};n.Table=u,n.tablePlugin=p}));
