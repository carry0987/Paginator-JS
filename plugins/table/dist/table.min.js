!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@carry0987/paginator")):"function"==typeof define&&define.amd?define(["exports","@carry0987/paginator"],t):t(((n="undefined"!=typeof globalThis?globalThis:n||self).paginatorjs=n.paginatorjs||{},n.paginatorjs.plugins=n.paginatorjs.plugins||{},n.paginatorjs.plugins.table={}),n.paginatorjs)}(this,(function(n,t){"use strict";var o;o={__e:function(n,t,o,e){for(var l,a,i;t=t.__;)if((l=t.__c)&&!l.__)try{if((a=l.constructor)&&null!=a.getDerivedStateFromError&&(l.setState(a.getDerivedStateFromError(n)),i=l.__d),null!=l.componentDidCatch&&(l.componentDidCatch(n,e||{}),i=l.__d),i)return l.__E=l}catch(t){n=t}throw n}},"function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;var e=0;function l(n,t,l,a,i,r){t||(t={});var s,c,u=t;"ref"in t&&(s=t.ref,delete t.ref);var p={type:n,props:u,key:l,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--e,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof n&&(s=n.defaultProps))for(c in s)void 0===u[c]&&(u[c]=s[c]);return o.vnode&&o.vnode(p),p}function a(n){const o=t.pluginAPI.useConfig();return l("td",{role:n.role,colSpan:n.colSpan,"data-column-id":n.column&&n.column.id,className:t.pluginUtil.classJoin(t.pluginUtil.className("td")),style:{...n.style},onClick:t=>{n.messageCell||o.eventEmitter.emit("cellClick",t,n.cell,n.column,n.row)},children:n.column&&"function"==typeof n.column.formatter?n.column.formatter(n.cell.data,n.row,n.column):n.column&&n.column.plugin?l(t.pluginUtil.PluginRenderer,{pluginId:n.column.id,props:{column:n.column,cell:n.cell,row:n.row}}):n.cell.data})}function i(n){const o=t.pluginAPI.useConfig(),e=t.pluginAPI.useSelector((n=>n.header));return l("tr",{className:t.pluginUtil.classJoin(t.pluginUtil.className("tr")),onClick:t=>{n.messageRow||o.eventEmitter.emit("rowClick",t,n.row)},children:n.children?n.children:n.row.cells.map(((o,i)=>{const r=(n=>{if(e){const o=t.pluginUtil.leafColumns(e.columns);if(o[n])return o[n]}return null})(i);return r&&r.hidden?null:l(a,{cell:o,row:n.row,column:r},o.id)}))})}function r(n){return l("th",{ref:t.pluginAPI.useRef(null),"data-column-id":n.column&&n.column.id,className:t.pluginUtil.classJoin(t.pluginUtil.className("th")),onClick:n=>{n.stopPropagation()},style:{minWidth:n.column.minWidth,width:n.column.width,...n.style},rowSpan:"number"==typeof n.rowSpan&&n.rowSpan>1?n.rowSpan:void 0,colSpan:"number"==typeof n.colSpan&&n.colSpan>1?n.colSpan:void 0,children:l("div",{className:t.pluginUtil.className("th","content"),children:void 0!==n.column.name?n.column.name:void 0!==n.column.plugin?l(t.pluginUtil.PluginRenderer,{pluginId:n.column.plugin.id,props:{column:n.column}}):null})})}function s(){const n=t.pluginAPI.useSelector((n=>n.header)),o=(n,t,o,e)=>{const{rowSpan:a,colSpan:i}=function(n,t,o){const e=n.length-1,l=o-t;return{rowSpan:Math.floor(l-e-e/l),colSpan:n.columns&&n.columns.length||1}}(n,t,e);return l(r,{column:n,index:o,colSpan:i,rowSpan:a})},e=()=>{const e=t.pluginUtil.tabularFormat(n?.columns||[]);return e.map(((a,r)=>((e,a,r)=>{if(!n)return null;const s=t.pluginUtil.leafColumns(n.columns);return l(i,{children:e.map((n=>n.hidden?null:o(n,a,s.indexOf(n),r)))})})(a,r,e.length)))};return n?l("thead",{className:t.pluginUtil.classJoin(t.pluginUtil.className("thead")),children:e()},n.id):null}function c(n){return l(i,{messageRow:!0,children:l(a,{role:"alert",colSpan:n.colSpan,messageCell:!0,cell:{data:n.message},className:t.pluginUtil.classJoin(t.pluginUtil.className("message"),n.className?n.className:null)})})}function u(){const n=t.pluginUtil.Status,o=t.pluginAPI.useSelector((n=>n.tabular)),e=t.pluginAPI.useSelector((n=>n.status)),a=t.pluginAPI.useSelector((n=>n.header)),r=t.pluginAPI.useTranslator(),s=o?.data,u=()=>a?a.visibleColumns.length:0;return l("tbody",{className:t.pluginUtil.classJoin(t.pluginUtil.className("tbody")),children:[o&&o.data.map((n=>l(i,{row:n},n.id))),e===n.Loading&&(!s||0===s.length)&&l(c,{message:r("loading"),colSpan:u(),className:t.pluginUtil.classJoin(t.pluginUtil.className("loading"))}),e===n.Rendered&&s&&0===s.length&&l(c,{message:r("noRecordsFound"),colSpan:u(),className:t.pluginUtil.classJoin(t.pluginUtil.className("notfound"))}),e===n.Error&&l(c,{message:r("error"),colSpan:u(),className:t.pluginUtil.classJoin(t.pluginUtil.className("error"))})]})}!function(n,t){void 0===t&&(t={});var o=t.insertAt;if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===o&&e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n))}}(":root{--paginatorjs-table-background:#fff;--paginatorjs-table-border:#e5e7eb;--paginatorjs-th-background:#f9fafb;--paginatorjs-th-color:#6b7280;--paginatorjs-td-background:#fff;--paginatorjs-td-color:#3d4044}@media (prefers-color-scheme:dark){:root{--paginatorjs-table-background:#121212;--paginatorjs-table-border:#373737;--paginatorjs-th-background:#1f1f1f;--paginatorjs-th-color:#c4c4c4;--paginatorjs-td-background:#121212;--paginatorjs-td-color:#bcc7d2}}html[data-theme=dark]{--paginatorjs-table-background:#121212;--paginatorjs-table-border:#373737;--paginatorjs-th-background:#1f1f1f;--paginatorjs-th-color:#c4c4c4;--paginatorjs-td-background:#121212;--paginatorjs-td-color:#bcc7d2}table.paginatorjs-plugin-table{border-collapse:collapse;display:table;margin:0;max-width:100%;overflow:auto;padding:0;table-layout:fixed;text-align:left;width:100%}.paginatorjs-plugin-tbody{box-sizing:border-box}td.paginatorjs-plugin-td{background-color:var(--paginatorjs-td-background);border:1px solid var(--paginatorjs-table-border);box-sizing:content-box;color:var(--paginatorjs-td-color);padding:12px 24px}td.paginatorjs-plugin-td:first-child{border-left:none}td.paginatorjs-plugin-td:last-child{border-right:none}td.paginatorjs-plugin-message{text-align:center}th.paginatorjs-plugin-th{background-color:var(--paginatorjs-th-background);border:1px solid var(--paginatorjs-table-border);border-top:none;box-sizing:border-box;color:var(--paginatorjs-th-color);outline:none;padding:14px 24px;position:relative;user-select:none;vertical-align:middle;white-space:nowrap}th.paginatorjs-plugin-th .paginatorjs-th-content{float:left;overflow:hidden;text-overflow:ellipsis;width:100%}th.paginatorjs-plugin-th-sort{cursor:pointer}th.paginatorjs-plugin-th-sort .paginatorjs-th-content{width:calc(100% - 15px)}th.paginatorjs-plugin-th-sort:focus,th.paginatorjs-plugin-th-sort:hover{background-color:#e5e7eb}th.paginatorjs-plugin-th-fixed{box-shadow:0 1px 0 0 #e5e7eb;position:sticky}@supports (-moz-appearance:none){th.paginatorjs-plugin-th-fixed{box-shadow:0 0 0 1px #e5e7eb}}th.paginatorjs-plugin-th:first-child{border-left:none}th.paginatorjs-plugin-th:last-child{border-right:none}.paginatorjs-plugin-tr{border:none}.paginatorjs-plugin-tr-selected td{background-color:#ebf5ff}.paginatorjs-plugin-tr:last-child td{border-bottom:0}.paginatorjs-plugin-thead{box-sizing:border-box}");const p=()=>{const n=t.pluginAPI.useRef(null),{dispatch:o}=t.pluginAPI.useStore();return t.pluginAPI.useEffect((()=>{n&&o((n=>t=>({...t,tableRef:n}))(n))}),[n]),l("table",{ref:n,role:"table",className:t.pluginUtil.classJoin(t.pluginUtil.className("table")),children:[l(s,{}),l(u,{})]})},d={id:"tablePlugin",component:p,position:t.PluginPosition.Body,order:1};n.Table=p,n.tablePlugin=d}));
