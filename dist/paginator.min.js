!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).paginatorjs={})}(this,(function(t){"use strict";var e=Object.freeze({__proto__:null,reportError:function(...t){console.error(...t)},throwError:function(t){throw new Error(t)}});function n(t,e,n){if("string"!=typeof t)return t;let r=document;return null===e&&n?r=n:e&&e instanceof Node&&"querySelector"in e?r=e:n&&n instanceof Node&&"querySelector"in n&&(r=n),"all"===e?r.querySelectorAll(t):r.querySelector(t)}function r(t,e,n=1/0,r=!1){let o=t.parentElement,i=0;for(;o&&i<n;){if(o.matches(e))return!r||o;o=o.parentElement,i++}return!!r&&null}function o(t){return"object"==typeof t&&null!==t&&!a(t)}function i(t){return"function"==typeof t}function s(t){return"string"==typeof t}function a(t){return Array.isArray(t)}function c(t){return"number"!=typeof t&&("string"==typeof t&&0===t.length||(!(!a(t)||0!==t.length)||(!(!o(t)||0!==Object.keys(t).length)||!t)))}function l(t,...e){if(!e.length)return t;const n=e.shift();if(n)for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const r=n[e],i=e;o(r)||a(r)?(t[i]&&"object"==typeof t[i]||(t[i]=a(r)?[]:{}),l(t[i],r)):t[i]=r}return l(t,...e)}function u(t,...e){return e.forEach((e=>{e&&Object.keys(e).forEach((n=>{const r=n;t[r]=e[r]}))})),t}function _(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function f(t,e=new FormData){const{data:n,parentKey:r=""}=t;if(n instanceof FormData)n.forEach(((t,n)=>{e.append(n,t)}));else if(null!==n&&"object"==typeof n)if(n instanceof Blob||n instanceof File){const t=r||"file";e.append(t,n)}else Object.keys(n).forEach((t=>{const o=n[t],i=r?`${r}[${t}]`:t;null!==o&&"object"==typeof o?f({data:o,parentKey:i},e):null!==o&&e.append(i,String(o))}));else null!==n&&e.append(r,n);return e}function p(t,e=""){if(t instanceof FormData)return t;return f({data:t,parentKey:e})}async function h(t){const{url:e,method:n="GET",headers:r={},cache:o="no-cache",mode:i="cors",credentials:s="same-origin",body:a=null,beforeSend:c=null,success:l=null,error:u=null}=t;let _=e;const f={method:n,mode:i,headers:r instanceof Headers?r:new Headers(r),cache:o,credentials:s};if(null!==a&&"GET"===n.toUpperCase()){const t=function(t){const e={};return t instanceof FormData?function(t){const e={};return t.forEach(((t,n)=>{e[n]="string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t?t:t.toString()})),e}(t):("object"==typeof t&&Object.entries(t).forEach((([t,n])=>{e[t]="string"==typeof n||"number"==typeof n||"boolean"==typeof n||null===n?n:JSON.stringify(n)})),e)}(a);_=function(t,e,n=!0){const r=new URL(t);for(const[t,o]of Object.entries(e)){const e=null===o?"":String(o);!n&&r.searchParams.has(t)||r.searchParams.set(t,e)}return r.toString()}("string"==typeof e?e:e.toString(),t,!0)}else if(null!==a&&["PUT","POST","DELETE"].includes(n.toUpperCase())){let t=a;a instanceof FormData||(t=JSON.stringify(a),f.headers instanceof Headers||(f.headers=new Headers(f.headers)),f.headers.append("Content-Type","application/json")),f.body=t}let p;if("string"==typeof _||_ instanceof URL)p=new Request(_,f);else{if(!(_ instanceof Request))throw new Error("Invalid URL type");p=_}try{const t=await new Promise((t=>{c?.(),t(p)})),e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);if("function"==typeof l){const t=e.clone(),n=await t.json();l?.(n)}return e}catch(t){const e=t instanceof Error?t:new Error(String(t));throw u?.(e),e}}const d=async function(t){const{url:e,data:n,method:r="POST",headers:o,cache:i,mode:s,credentials:a,success:c,error:l,beforeSend:u,encode:_=!0}=t,f={url:e,method:r,headers:o,cache:i,mode:s,credentials:a,body:_&&"GET"!==r.toUpperCase()?p(n):n,beforeSend:u,success:c,error:l};return(await h(f)).json()};class g{static throwError=e.throwError;static getElem=n;static hasParent=r;static deepMerge=l;static shallowMerge=u;static generateUUID=_;static isEmpty=c;static isObject=o;static isArray=a;static isString=s;static isFunction=i;static fetchData=d;static encodeFormData=p;static isNumeric(t){return!isNaN(parseFloat(t))&&isFinite(t)}static composeClassNames(...t){return t=t.filter((t=>!!t)),t.length>0?t.join(" "):""}static isPageItem(t){const e=["J-pagination-page","J-pagination-previous","J-pagination-next"],n=t.classList;for(let t=0;t<e.length;t++)if(n.contains(e[t]))return!0;return!1}}class v{_id;constructor(t){this._id=t||g.generateUUID()}get id(){return this._id}}function m(t){if(!t)return"";const e=t.split(" ");return 1===e.length&&/([a-z][A-Z])+/g.test(t)?t:e.map((function(t,e){return 0==e?t.toLowerCase():t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})).join("")}var y,b,x,w,P,k,E,S,C,N,L,U,D,I,A=new class{format(t,e){return`[Paginator] [${e.toUpperCase()}]: ${t}`}error(t,e=!1){const n=this.format(t,"error");if(e)throw Error(n);console.error(n)}warn(t){console.warn(this.format(t,"warn"))}info(t){console.info(this.format(t,"info"))}},T={},O=[],$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,R=Array.isArray;function F(t,e){for(var n in e)t[n]=e[n];return t}function H(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function j(t,e,n){var r,o,i,s={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?y.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===s[i]&&(s[i]=t.defaultProps[i]);return M(t,s,r,o,null)}function M(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++x:o,__i:-1,__u:0};return null==o&&null!=b.vnode&&b.vnode(i),i}function B(t){return t.children}function W(t,e){this.props=t,this.context=e}function z(t,e){if(null==e)return t.__?z(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?z(t):null}function q(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return q(t)}}function J(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!V.__r++||k!==b.debounceRendering)&&((k=b.debounceRendering)||E)(V)}function V(){var t,e,n,r,o,i,s,a;for(P.sort(S);t=P.shift();)t.__d&&(e=P.length,r=void 0,i=(o=(n=t).__v).__e,s=[],a=[],n.__P&&((r=F({},o)).__v=o.__v+1,b.vnode&&b.vnode(r),et(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,s,null==i?z(o):i,!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,nt(s,r,a),r.__e!=i&&q(r)),P.length>e&&P.sort(S));V.__r=0}function K(t,e,n,r,o,i,s,a,c,l,u){var _,f,p,h,d,g=r&&r.__k||O,v=e.length;for(n.__d=c,function(t,e,n){var r,o,i,s,a,c=e.length,l=n.length,u=l,_=0;for(t.__k=[],r=0;r<c;r++)null!=(o=e[r])&&"boolean"!=typeof o&&"function"!=typeof o?(s=r+_,(o=t.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?M(null,o,null,null,null):R(o)?M(B,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?M(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,i=null,-1!==(a=o.__i=Q(o,n,s,u))&&(u--,(i=n[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&_--,"function"!=typeof o.type&&(o.__u|=65536)):a!==s&&(a==s-1?_--:a==s+1?_++:(a>s?_--:_++,o.__u|=65536))):o=t.__k[r]=null;if(u)for(r=0;r<l;r++)null!=(i=n[r])&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=z(i)),ot(i,i))}(n,e,g),c=n.__d,_=0;_<v;_++)null!=(p=n.__k[_])&&(f=-1===p.__i?T:g[p.__i]||T,p.__i=_,et(t,p,f,o,i,s,a,c,l,u),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&rt(f.ref,null,p),u.push(p.ref,p.__c||h,p)),null==d&&null!=h&&(d=h),65536&p.__u||f.__k===p.__k?c=G(p,c,t):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=d}function G(t,e,n){var r,o;if("function"==typeof t.type){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=G(r[o],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=z(t)),n.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function Z(t,e){return e=e||[],null==t||"boolean"==typeof t||(R(t)?t.some((function(t){Z(t,e)})):e.push(t)),e}function Q(t,e,n,r){var o=t.key,i=t.type,s=n-1,a=n+1,c=e[n];if(null===c||c&&o==c.key&&i===c.type&&!(131072&c.__u))return n;if(r>(null==c||131072&c.__u?0:1))for(;s>=0||a<e.length;){if(s>=0){if((c=e[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function X(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||$.test(e)?n:n+"px"}function Y(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||X(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||X(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||"onFocusOut"===e||"onFocusIn"===e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=C,t.addEventListener(e,i?L:N,i)):t.removeEventListener(e,i?L:N,i);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==n?"":n))}}function tt(t){return function(e){if(this.l){var n=this.l[e.type+t];if(null==e.t)e.t=C++;else if(e.t<n.u)return;return n(b.event?b.event(e):e)}}}function et(t,e,n,r,o,i,s,a,c,l){var u,_,f,p,h,d,g,v,m,x,w,P,k,E,S,C,N=e.type;if(void 0!==e.constructor)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=e.__e=n.__e]),(u=b.__b)&&u(e);t:if("function"==typeof N)try{if(v=e.props,m="prototype"in N&&N.prototype.render,x=(u=N.contextType)&&r[u.__c],w=u?x?x.props.value:u.__:r,n.__c?g=(_=e.__c=n.__c).__=_.__E:(m?e.__c=_=new N(v,w):(e.__c=_=new W(v,w),_.constructor=N,_.render=it),x&&x.sub(_),_.props=v,_.state||(_.state={}),_.context=w,_.__n=r,f=_.__d=!0,_.__h=[],_._sb=[]),m&&null==_.__s&&(_.__s=_.state),m&&null!=N.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=F({},_.__s)),F(_.__s,N.getDerivedStateFromProps(v,_.__s))),p=_.props,h=_.state,_.__v=e,f)m&&null==N.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),m&&null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(m&&null==N.getDerivedStateFromProps&&v!==p&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(v,w),!_.__e&&(null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(v,_.__s,w)||e.__v===n.__v)){for(e.__v!==n.__v&&(_.props=v,_.state=_.__s,_.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some((function(t){t&&(t.__=e)})),P=0;P<_._sb.length;P++)_.__h.push(_._sb[P]);_._sb=[],_.__h.length&&s.push(_);break t}null!=_.componentWillUpdate&&_.componentWillUpdate(v,_.__s,w),m&&null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(p,h,d)}))}if(_.context=w,_.props=v,_.__P=t,_.__e=!1,k=b.__r,E=0,m){for(_.state=_.__s,_.__d=!1,k&&k(e),u=_.render(_.props,_.state,_.context),S=0;S<_._sb.length;S++)_.__h.push(_._sb[S]);_._sb=[]}else do{_.__d=!1,k&&k(e),u=_.render(_.props,_.state,_.context),_.state=_.__s}while(_.__d&&++E<25);_.state=_.__s,null!=_.getChildContext&&(r=F(F({},r),_.getChildContext())),m&&!f&&null!=_.getSnapshotBeforeUpdate&&(d=_.getSnapshotBeforeUpdate(p,h)),K(t,R(C=null!=u&&u.type===B&&null==u.key?u.props.children:u)?C:[C],e,n,r,o,i,s,a,c,l),_.base=e.__e,e.__u&=-161,_.__h.length&&s.push(_),g&&(_.__E=_.__=null)}catch(t){if(e.__v=null,c||null!=i){for(e.__u|=c?160:32;a&&8===a.nodeType&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;b.__e(t,e,n)}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,r,o,i,s,a,c){var l,u,_,f,p,h,d,g=n.props,v=e.props,m=e.type;if("svg"===m?o="http://www.w3.org/2000/svg":"math"===m?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=i)for(l=0;l<i.length;l++)if((p=i[l])&&"setAttribute"in p==!!m&&(m?p.localName===m:3===p.nodeType)){t=p,i[l]=null;break}if(null==t){if(null===m)return document.createTextNode(v);t=document.createElementNS(o,m,v.is&&v),a&&(b.__m&&b.__m(e,i),a=!1),i=null}if(null===m)g===v||a&&t.data===v||(t.data=v);else{if(i=i&&y.call(t.childNodes),g=n.props||T,!a&&null!=i)for(g={},l=0;l<t.attributes.length;l++)g[(p=t.attributes[l]).name]=p.value;for(l in g)if(p=g[l],"children"==l);else if("dangerouslySetInnerHTML"==l)_=p;else if(!(l in v)){if("value"==l&&"defaultValue"in v||"checked"==l&&"defaultChecked"in v)continue;Y(t,l,null,p,o)}for(l in v)p=v[l],"children"==l?f=p:"dangerouslySetInnerHTML"==l?u=p:"value"==l?h=p:"checked"==l?d=p:a&&"function"!=typeof p||g[l]===p||Y(t,l,p,g[l],o);if(u)a||_&&(u.__html===_.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(_&&(t.innerHTML=""),K(t,R(f)?f:[f],e,n,r,"foreignObject"===m?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&z(n,0),a,c),null!=i)for(l=i.length;l--;)H(i[l]);a||(l="value","progress"===m&&null==h?t.removeAttribute("value"):void 0!==h&&(h!==t[l]||"progress"===m&&!h||"option"===m&&h!==g[l])&&Y(t,l,h,g[l],o),l="checked",void 0!==d&&d!==t[l]&&Y(t,l,d,g[l],o))}return t}(n.__e,e,n,r,o,i,s,c,l);(u=b.diffed)&&u(e)}function nt(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)rt(n[r],n[++r],n[++r]);b.__c&&b.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){b.__e(t,e.__v)}}))}function rt(t,e,n){try{if("function"==typeof t){var r="function"==typeof t.__u;r&&t.__u(),r&&null==e||(t.__u=t(e))}else t.current=e}catch(t){b.__e(t,n)}}function ot(t,e,n){var r,o;if(b.unmount&&b.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||rt(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){b.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&ot(r[o],e,n||"function"!=typeof t.type);n||H(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function it(t,e,n){return this.constructor(t,n)}function st(t,e,n){var r,o,i,s;b.__&&b.__(t,e),o=(r="function"==typeof n)?null:e.__k,i=[],s=[],et(e,t=(!r&&n||e).__k=j(B,null,[t]),o||T,T,e.namespaceURI,!r&&n?[n]:o?null:e.firstChild?y.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,s),nt(i,t,s)}y=O.slice,b={__e:function(t,e,n,r){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),s=o.__d),s)return o.__E=o}catch(e){t=e}throw t}},x=0,w=function(t){return null!=t&&null==t.constructor},W.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=F({},this.state),"function"==typeof t&&(t=t(F({},n),this.props)),t&&F(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),J(this))},W.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),J(this))},W.prototype.render=B,P=[],E="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S=function(t,e){return t.__v.__b-e.__v.__b},V.__r=0,C=0,N=tt(!1),L=tt(!0),U=0;class at extends v{_columns;constructor(){super(),this._columns=[]}get columns(){return this._columns}set columns(t){this._columns=t}get visibleColumns(){return this._columns.filter((t=>!t.hidden))}setID(t){const e=t||this.columns||[];for(const t of e)t.id||"string"!=typeof t.name||(t.id=m(t.name)),t.id||A.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.')}static isJsonPayload(t){return!!t&&t instanceof Array&&"object"==typeof t[0]&&!(t[0]instanceof Array)}static fromColumns(t){const e=new at;for(const n of t)if("string"==typeof n||w(n))e.columns.push({name:n});else if("object"==typeof n){const t=n;e.columns.push(t)}return e}static createFromConfig(t){const e=new at;if(t.options.columns?e.columns=at.fromColumns(t.options.columns).columns:at.isJsonPayload(t.options.data)&&(e.columns=Object.keys(t.options.data[0]).map((t=>({name:t})))),e.columns.length)return e.setID(),e}static leafColumns(t){let e=[];const n=t||[];if(n&&n.length)for(const t of n)e.push(t);return e}}!function(t){t[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded",t[t.Rendered=3]="Rendered",t[t.Error=4]="Error"}(D||(D={}));class ct{state;listeners=[];isDispatching=!1;constructor(t){this.state=t}getState=()=>this.state;getListeners=()=>this.listeners;dispatch=t=>{if("function"!=typeof t)throw new Error("Reducer is not a function");if(this.isDispatching)throw new Error("Reducers may not dispatch actions");this.isDispatching=!0;const e=this.state;try{this.state=t(this.state)}finally{this.isDispatching=!1}for(const t of this.listeners)t(this.state,e);return this.state};subscribe=t=>{if("function"!=typeof t)throw new Error("Listener is not a function");return this.listeners=[...this.listeners,t],()=>this.listeners=this.listeners.filter((e=>e!==t))}}class lt{}class ut extends lt{data=()=>[];beforeDataLoad;constructor(t,e){super(),this.set(t),this.beforeDataLoad=e}async get(){g.isFunction(this.beforeDataLoad)&&this.beforeDataLoad();const t=await this.data();return{data:t,total:t.length}}set(t){return t instanceof Array?this.data=()=>t:t instanceof Function&&(this.data=t),this}}class _t extends lt{options;beforeDataLoad;constructor(t,e){super(),this.options=t,this.beforeDataLoad=e}handler(t){return"function"==typeof this.options.handle?this.options.handle(t):Promise.resolve(t)}async get(t){const e={...this.options,...t},n={url:e.url,data:g.encodeFormData(e.body||{}),...e.param};return g.isFunction(e.data)?e.data(e):(!g.isFunction(e.param?.beforeSend)&&g.isFunction(this.beforeDataLoad)&&(n.beforeSend=this.beforeDataLoad),await g.fetchData(n).then(this.handler.bind(this)).then((t=>({data:e.processData?e.processData(t):[],total:"function"==typeof e.total?e.total(t):0}))).catch((t=>(A.error(`Error in get method: ${t.message}`,!0),Promise.reject(t)))))}}class ft{static createFromConfig(t){let e=null;if(t.options.data&&(e=new ut(t.options.data,t.options.beforeDataLoad)),t.options.server&&(e=new _t(t.options.server,t.options.beforeDataLoad)),!e)throw new Error("Could not determine the storage type");return e}}!function(t){t[t.Initiator=0]="Initiator",t[t.ServerLimit=1]="ServerLimit",t[t.Extractor=2]="Extractor",t[t.Transformer=3]="Transformer",t[t.Limit=4]="Limit"}(I||(I={}));var pt=new class{format(t,e){return`[Pipeline-JS] [${e.toUpperCase()}]: ${t}`}error(t,e=!1){const n=this.format(t,"error");if(e)throw Error(n);console.error(n)}warn(t){console.warn(this.format(t,"warn"))}info(t){console.info(this.format(t,"info"))}};let ht=class{callbacks={};init(t){t&&!this.callbacks[t]&&(this.callbacks[t]=[])}checkListener(t){if("function"!=typeof t)throw new TypeError("The listener must be a function")}hasEvent(t){return void 0!==this.callbacks[t]}listeners(){return this.callbacks}addListener(t,e){return this.on(t,e)}clearListener(t){return t?this.callbacks[t]=[]:this.callbacks={},this}on(t,e){return this.checkListener(e),this.init(t),this.callbacks[t].push(e),this}off(t,e){e&&this.checkListener(e);const n=t;return this.init(),this.callbacks[n]&&0!==this.callbacks[n].length?(this.callbacks[n]=e?this.callbacks[n].filter((t=>t!==e)):[],this):this}emit(t,...e){const n=t;if(this.init(n),this.callbacks[n].length<=0)return!1;const r=this.callbacks[n].map((t=>{try{const n=t(...e);return n instanceof Promise?n:Promise.resolve(n)}catch(t){return console.error(`Error in event listener for event: ${n}`,t),Promise.resolve()}}));return!r.some((t=>t instanceof Promise))||Promise.all(r).then((()=>!0)).catch((t=>(console.error(`Error handling promises for event: ${n}`,t),!1)))}once(t,e){this.checkListener(e);const n=(...r)=>{const o=e(...r);return this.off(t,n),o instanceof Promise?o:Promise.resolve(o)};return this.on(t,n)}};class dt extends ht{_steps=new Map;cache=new Map;lastProcessorIndexUpdated=-1;constructor(t){super(),t&&t.forEach((t=>this.register(t)))}clearCache(){this.cache=new Map,this.lastProcessorIndexUpdated=-1}register(t,e=-1){if(!t)throw Error("Processor is not defined");if(null===t.type)throw Error("Processor type is not defined");if(this.findProcessorIndexByID(t.id)>-1)throw Error(`Processor ID ${t.id} is already defined`);return t.on("propsUpdated",this.processorPropsUpdated.bind(this,t)),this.addProcessorByPriority(t,e),this.afterRegistered(t),t}tryRegister(t,e=-1){try{return this.register(t,e)}catch(t){return}}unregister(t){if(!t)return;if(-1===this.findProcessorIndexByID(t.id))return;const e=this._steps.get(t.type);e&&e.length&&(this._steps.set(t.type,e.filter((e=>e.id!==t.id))),t.off("propsUpdated",this.processorPropsUpdated.bind(this,t)),this.emit("updated",t))}addProcessorByPriority(t,e=-1){let n=this._steps.get(t.type);if(!n){const e=[];this._steps.set(t.type,e),n=e}e<0||e>=n.length?n.push(t):n.splice(e,0,t)}get steps(){let t=[];for(const e of this.getSortedProcessorTypes()){const n=this._steps.get(e);n&&n.length&&(t=t.concat(n))}return t.filter((t=>t))}getStepsByType(t){return this.steps.filter((e=>e.type===t))}getSortedProcessorTypes(){return Array.from(this._steps.keys()).sort(((t,e)=>Number(t)-Number(e)))}async process(t){const e=this.lastProcessorIndexUpdated,n=this.steps;let r=t;try{for(const t of n){this.findProcessorIndexByID(t.id)>=e?(r=await t.process(r),this.cache.set(t.id,r)):(r=this.cache.get(t.id),void 0===r&&(r=await t.process(r)))}}catch(t){throw pt.error(t),this.emit("error",r),t}return this.lastProcessorIndexUpdated=n.length,this.emit("afterProcess",r),r}async processInParallel(t){const e=this.steps,n=await Promise.all(e.map((e=>e.process(t))));return n.forEach(((t,n)=>this.cache.set(e[n].id,t))),this.lastProcessorIndexUpdated=e.length,this.emit("afterProcess",n),n}clearProcessors(){this._steps.clear(),this.clearCache()}getProcessorByID(t){const e=this.findProcessorIndexByID(t);return e>-1?this.steps[e]:null}findProcessorIndexByID(t){return this.steps.findIndex((e=>e.id==t))}async runProcessorByID(t,e,n=!0){const r=this.findProcessorIndexByID(t);if(-1===r)throw Error(`Processor ID ${t} not found`);let o;return"boolean"==typeof e?n=e:o=e,n?(this.lastProcessorIndexUpdated=r,this.clearCacheAfterProcessorIndex(r)):this.cache.delete(t),o?this.process(o):this.process()}clearCacheAfterProcessorIndex(t){this.steps.slice(t).forEach((t=>{this.cache.delete(t.id)}))}setLastProcessorIndex(t){const e=this.findProcessorIndexByID(t.id);this.lastProcessorIndexUpdated>e&&(this.lastProcessorIndexUpdated=e)}processorPropsUpdated(t){this.setLastProcessorIndex(t),this.emit("propsUpdated"),this.emit("updated",t)}afterRegistered(t){this.setLastProcessorIndex(t),this.emit("afterRegister"),this.emit("updated",t)}}function gt(t,e){if(typeof t!=typeof e)return!1;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e||null===t||null===e)return t===e;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every(((t,n)=>gt(t,e[n])));if(Array.isArray(t)||Array.isArray(e))return!1;if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,r]of t)if(!gt(r,e.get(n)))return!1;return!0}if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;const n=Reflect.ownKeys(t),r=Reflect.ownKeys(e);if(n.length!==r.length)return!1;for(const r of n)if(!gt(t[r],e[r]))return!1;return!0}class vt extends ht{id;name;static _statusTypes=["idle","running","completed"];_props;_status;constructor(t,e){super(),this._props={},this._status="idle",this.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),this.name=e??this.constructor.name,t&&this.setProps(t)}async process(...t){this.validateProps instanceof Function&&this.validateProps(...t),this._status="running",this.emit("beforeProcess",...t);try{const e=await this._process(...t);return this._status="completed",this.emit("afterProcess",...t),e}catch(e){const n=e instanceof Error?e:new Error(String(e));throw this._status="idle",this.emit("error",n,...t),this.emit("afterProcess",...t),n}}setProps(t){const e={...this._props,...t};return gt(e,this._props)||(this._props=e,this.emit("propsUpdated",this)),this}get props(){return this._props}get status(){return this._status}}class mt extends vt{get type(){return I.Extractor}async _process(t){return await this.props.storage.get(t)}}class yt extends vt{get type(){return I.Initiator}async _process(){return Object.entries(this.props.serverStorageOptions).filter((([t,e])=>"function"!=typeof e)).reduce(((t,[e,n])=>({...t,[e]:n})),{})}}class bt extends vt{get type(){return I.Transformer}castData(t){if(!t||!t.length)return[];if(!this.props.header||!this.props.header.columns)return t;const e=at.leafColumns(this.props.header.columns);return t[0]instanceof Array?t.map((t=>{let n=0;return e.map(((e,r)=>void 0!==e.data?(n++,"function"==typeof e.data?e.data(t):e.data):t[r-n]))})):"object"!=typeof t[0]||t[0]instanceof Array?[]:t.map((t=>e.map(((e,n)=>void 0!==e.data?"function"==typeof e.data?e.data(t):e.data:e.id?t[e.id]:(A.error(`Could not find the correct cell for column at position ${n}. Make sure either 'id' or 'selector' is defined for all columns.`),null)))))}async _process(t){return{data:this.castData(t.data),total:t.total}}}function xt(t){return j(t.parentElement||"span",{dangerouslySetInnerHTML:{__html:t.content}})}function wt(t,e){return j(xt,{content:t,parentElement:e})}class Pt extends v{data;constructor(t){super(),this.update(t)}cast(t){return t instanceof HTMLElement?wt(t.outerHTML):t}update(t){return this.data=this.cast(t),this}}class kt extends v{_cells=[];constructor(t){super(),this.cells=t||[]}cell(t){return this._cells[t]}get cells(){return this._cells}set cells(t){this._cells=t}toArray(){return this.cells.map((t=>t.data))}static fromCells(t){return new kt(t.map((t=>new Pt(t.data))))}get length(){return this.cells.length}}class Et extends v{_rows=[];_length=0;constructor(t){super(),this.data=t instanceof Array?t:t instanceof kt?[t]:[]}get data(){return this._rows}set data(t){this._rows=t}get length(){return this._length||this.data.length}set length(t){this._length=t}toArray(){return this.data.map((t=>t.toArray()))}static fromRows(t){return new Et(t.map((t=>kt.fromCells(t.cells))))}static fromArray(t){return t=function(t){return!t[0]||t[0]instanceof Array?t:[t]}(t),new Et(t.map((t=>new kt(t.map((t=>new Pt(t)))))))}}class St extends vt{get type(){return I.Transformer}async _process(t){const e=Et.fromArray(t.data);return e.length=t.total,e}}class Ct{static createFromConfig(t){const e=new dt;return t.options.storage instanceof _t&&e.register(new yt({serverStorageOptions:t.options.server})),e.register(new mt({storage:t.options.storage})),e.register(new bt({header:t.options.header})),e.register(new St),e}}var Nt={pagination:{previous:"Previous",next:"Next",ellipsis:"...",page:t=>`Page ${t}`},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"};class Lt{_language;_defaultLanguage;constructor(t){this._language=t,this._defaultLanguage=Nt}getString(t,e){if(!e||!t)return null;const n=t.split("."),r=n[0];if(e[r]){const t=e[r];return"string"==typeof t?()=>t:"function"==typeof t?t:this.getString(n.slice(1).join("."),t)}return null}translate(t,...e){const n=this.getString(t,this._language);let r;return r=n||this.getString(t,this._defaultLanguage),r?r(...e):t}}class Ut{options={};constructor(){this.assign(Ut.defaultConfig())}assign(t){return g.shallowMerge(this.options,t),this}update(t){return t?(this.assign(Ut.fromPartialConfig({...this.options,...t})),this):this}static defaultConfig(){return{state:new ct({status:D.Init,tabular:null}),position:"bottom",resetPageOnUpdate:!1,pageNumber:1,pageSize:10,pageRange:2,display:{showPrevious:!0,showNext:!0,showPageNumbers:!0,hideFirstOnEllipsisShow:!1,hideLastOnEllipsisShow:!1,autoHidePrevious:!1,autoHideNext:!1},className:{container:"",active:"active",disable:"disabled",pageList:"pages",pageButton:"page-item",prevButton:"page-prev",nextButton:"page-next"}}}static fromPartialConfig(t){const e=(new Ut).assign(t);return e.assign({header:at.createFromConfig(e)}),e.assign({storage:ft.createFromConfig(e)}),e.assign({pipeline:Ct.createFromConfig(e)}),e.assign({translator:new Lt(e.options.language)}),e.options}}const Dt=function(t,e){var n={__c:e="__cC"+U++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some((function(t){t.__e=!0,J(t)}))},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n&&n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}(void 0);function It(...t){return`paginatorjs${t.reduce(((t,e)=>`${t}-${e}`),"")}`}function At(...t){return t.map((t=>t?t.toString():"")).filter((t=>t)).reduce(((t,e)=>`${t||""} ${e}`),"").trim()}const Tt=({page:t,isActive:e,onClick:n,option:r,lang:o,text:i})=>j("button",{key:`page-${t}`,tabIndex:0,role:"button",type:"button",onClick:n,className:At(e?At(It("currentPage"),r.className.active):"",r.className.pageButton),title:i||o("pagination.page",t),"aria-label":i||o("pagination.page",t)},o(`${t}`)),Ot=({key:t,option:e,lang:n})=>j("button",{key:t,tabIndex:-1,disabled:!0,className:At(It("spread"),e.className.pageButton,e.className.disable)},n("pagination.ellipsis")),$t=({key:t,onClick:e,option:n,text:r})=>j("button",{key:t,tabIndex:0,role:"button",type:"button",onClick:e,className:At(n.className.pageButton,"prev"===t?n.className.prevButton:n.className.nextButton),title:r,"aria-label":r},r),Rt=({key:t,option:e,text:n})=>j("button",{key:t,tabIndex:-1,disabled:!0,className:At(It("disabled"),e.className.pageButton,"prev"===t?e.className.prevButton:e.className.nextButton,e.className.disable),title:n,"aria-label":n},n);var Ft,Ht,jt,Mt,Bt=0,Wt=[],zt=b,qt=zt.__b,Jt=zt.__r,Vt=zt.diffed,Kt=zt.__c,Gt=zt.unmount,Zt=zt.__;function Qt(t,e){zt.__h&&zt.__h(Ht,t,Bt||e),Bt=0;var n=Ht.__H||(Ht.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Xt(t,e){var n=Qt(Ft++,3);!zt.__s&&ae(n.__H,e)&&(n.__=t,n.i=e,Ht.__H.__h.push(n))}function Yt(t){return Bt=5,ee((function(){return{current:t}}),[])}function te(t,e,n){Bt=6,function(t,e){var n=Qt(Ft++,4);!zt.__s&&ae(n.__H,e)&&(n.__=t,n.i=e,Ht.__h.push(n))}((function(){return"function"==typeof t?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0}),null==n?n:n.concat(t))}function ee(t,e){var n=Qt(Ft++,7);return ae(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ne(){for(var t;t=Wt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ie),t.__H.__h.forEach(se),t.__H.__h=[]}catch(e){t.__H.__h=[],zt.__e(e,t.__v)}}zt.__b=function(t){Ht=null,qt&&qt(t)},zt.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Zt&&Zt(t,e)},zt.__r=function(t){Jt&&Jt(t),Ft=0;var e=(Ht=t.__c).__H;e&&(jt===Ht?(e.__h=[],Ht.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0}))):(e.__h.forEach(ie),e.__h.forEach(se),e.__h=[],Ft=0)),jt=Ht},zt.diffed=function(t){Vt&&Vt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==Wt.push(e)&&Mt===zt.requestAnimationFrame||((Mt=zt.requestAnimationFrame)||oe)(ne)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.i=void 0}))),jt=Ht=null},zt.__c=function(t,e){e.some((function(t){try{t.__h.forEach(ie),t.__h=t.__h.filter((function(t){return!t.__||se(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],zt.__e(n,t.__v)}})),Kt&&Kt(t,e)},zt.unmount=function(t){Gt&&Gt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{ie(t)}catch(t){e=t}})),n.__H=void 0,e&&zt.__e(e,n.__v))};var re="function"==typeof requestAnimationFrame;function oe(t){var e,n=function(){clearTimeout(r),re&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);re&&(e=requestAnimationFrame(n))}function ie(t){var e=Ht,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),Ht=e}function se(t){var e=Ht;t.__c=t.__(),Ht=e}function ae(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}const ce=()=>{const t=function(t){var e=Ht.context[t.__c],n=Qt(Ft++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(Ht)),e.props.value):t.__}(Dt);if(void 0===t)throw new Error("useOption must be used within a ConfigProvider");return t.options};class le extends vt{validateProps(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")}get type(){return I.Limit}async _process(t){const e=this.props.page,n=this.props.limit,r=t.data.length,o=n*(e-1)+1,i=Math.min(e*n,r);return new Et(t.data.slice(o-1,i))}}class ue extends vt{get type(){return I.ServerLimit}async _process(t){const e={};return this.props.url&&(e.url=this.props.url(t.url,this.props.page,this.props.limit)),this.props.body&&(e.body=this.props.body(t.body,this.props.page,this.props.limit)),{...t,...e}}}const _e=Symbol.for("preact-signals");function fe(){if(ge>1)return void ge--;let t,e=!1;for(;void 0!==he;){let n=he;for(he=void 0,ve++;void 0!==n;){const r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&we(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=r}}if(ve=0,ge--,e)throw t}let pe,he,de,ge=0,ve=0,me=0;function ye(t){if(void 0===pe)return;let e=t.n;return void 0===e||e.t!==pe?(e={i:0,S:t,p:pe.s,n:void 0,t:pe,e:void 0,x:void 0,r:e},void 0!==pe.s&&(pe.s.n=e),pe.s=e,t.n=e,32&pe.f&&t.S(e),e):-1===e.i?(e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=pe.s,e.n=void 0,pe.s.n=e,pe.s=e),e):void 0}function be(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function xe(t){return new be(t)}function we(t){for(let e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Pe(t){for(let e=t.s;void 0!==e;e=e.n){const n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function ke(t){let e,n=t.s;for(;void 0!==n;){const t=n.p;-1===n.i?(n.S.U(n),void 0!==t&&(t.n=n.n),void 0!==n.n&&(n.n.p=t)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=t}t.s=e}function Ee(t){be.call(this,void 0),this.x=t,this.s=void 0,this.g=me-1,this.f=4}function Se(t){const e=t.u;if(t.u=void 0,"function"==typeof e){ge++;const n=pe;pe=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,Ce(t),e}finally{pe=n,fe()}}}function Ce(t){for(let e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Se(t)}function Ne(t){if(pe!==this)throw new Error("Out-of-order effect");ke(this),pe=t,this.f&=-2,8&this.f&&Ce(this),fe()}function Le(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function Ue(t){const e=new Le(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}function De(t,e){b[t]=e.bind(null,b[t]||(()=>{}))}function Ie(t){de&&de(),de=t&&t.S()}function Ae({data:t}){const e=Oe(t);e.value=t;const n=ee((()=>{let t=this.__v;for(;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return this.__$u.c=()=>{var t;w(n.peek())||3!==(null==(t=this.base)?void 0:t.nodeType)?(this.__$f|=1,this.setState({})):this.base.data=n.peek()},function(t){return new Ee(t)}((()=>{let t=e.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return n.value}function Te(t,e,n,r){const o=e in t&&void 0===t.ownerSVGElement,i=xe(n);return{o:(t,e)=>{i.value=t,r=e},d:Ue((()=>{const n=i.value.value;r[e]!==n&&(r[e]=n,o?t[e]=n:n?t.setAttribute(e,n):t.removeAttribute(e))}))}}function Oe(t){return ee((()=>xe(t)),[])}be.prototype.brand=_e,be.prototype.h=function(){return!0},be.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},be.prototype.U=function(t){if(void 0!==this.t){const e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}},be.prototype.subscribe=function(t){return Ue((()=>{const e=this.value,n=pe;pe=void 0;try{t(e)}finally{pe=n}}))},be.prototype.valueOf=function(){return this.value},be.prototype.toString=function(){return this.value+""},be.prototype.toJSON=function(){return this.value},be.prototype.peek=function(){const t=pe;pe=void 0;try{return this.value}finally{pe=t}},Object.defineProperty(be.prototype,"value",{get(){const t=ye(this);return void 0!==t&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(ve>100)throw new Error("Cycle detected");this.v=t,this.i++,me++,ge++;try{for(let t=this.t;void 0!==t;t=t.x)t.t.N()}finally{fe()}}}}),(Ee.prototype=new be).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===me)return!0;if(this.g=me,this.f|=1,this.i>0&&!we(this))return this.f&=-2,!0;const t=pe;try{Pe(this),pe=this;const t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return pe=t,ke(this),this.f&=-2,!0},Ee.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(let t=this.s;void 0!==t;t=t.n)t.S.S(t)}be.prototype.S.call(this,t)},Ee.prototype.U=function(t){if(void 0!==this.t&&(be.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(let t=this.s;void 0!==t;t=t.n)t.S.U(t)}},Ee.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(Ee.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const t=ye(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),Le.prototype.c=function(){const t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;const t=this.x();"function"==typeof t&&(this.u=t)}finally{t()}},Le.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Se(this),Pe(this),ge++;const t=pe;return pe=this,Ne.bind(this,t)},Le.prototype.N=function(){2&this.f||(this.f|=2,this.o=he,he=this)},Le.prototype.d=function(){this.f|=8,1&this.f||Ce(this)},Ae.displayName="_st",Object.defineProperties(be.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Ae},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}}),De("__b",((t,e)=>{if("string"==typeof e.type){let t,n=e.props;for(let r in n){if("children"===r)continue;let o=n[r];o instanceof be&&(t||(e.__np=t={}),t[r]=o,n[r]=o.peek())}}t(e)})),De("__r",((t,e)=>{Ie();let n,r=e.__c;r&&(r.__$f&=-2,n=r.__$u,void 0===n&&(r.__$u=n=function(){let t;return Ue((function(){t=this})),t.c=()=>{r.__$f|=1,r.setState({})},t}())),Ie(n),t(e)})),De("__e",((t,e,n,r)=>{Ie(),t(e,n,r)})),De("diffed",((t,e)=>{let n;if(Ie(),"string"==typeof e.type&&(n=e.__e)){let t=e.__np,r=e.props;if(t){let e=n.U;if(e)for(let n in e){let r=e[n];void 0===r||n in t||(r.d(),e[n]=void 0)}else e={},n.U=e;for(let o in t){let i=e[o],s=t[o];void 0===i?(i=Te(n,o,s,r),e[o]=i):i.o(s,r)}}}t(e)})),De("unmount",((t,e)=>{if("string"==typeof e.type){let t=e.__e;if(t){const e=t.U;if(e){t.U=void 0;for(let t in e){let n=e[t];n&&n.d()}}}}else{let t=e.__c;if(t){const e=t.__$u;e&&(t.__$u=void 0,e.d())}}t(e)})),De("__h",((t,e,n,r)=>{(r<3||9===r)&&(e.__$f|=2),t(e,n,r)})),W.prototype.shouldComponentUpdate=function(t,e){const n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(let t in e)return!0;for(let e in t)if("__source"!==e&&t[e]!==this.props[e])return!0;for(let e in this.props)if(!(e in t))return!0;return!1};function $e(t,e){for(var n in e)t[n]=e[n];return t}function Re(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Fe(t,e){this.props=t,this.context=e}(Fe.prototype=new W).isPureReactComponent=!0,Fe.prototype.shouldComponentUpdate=function(t,e){return Re(this.props,t)||Re(this.state,e)};var He=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),He&&He(t)};var je="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Me=b.__e;b.__e=function(t,e,n,r){if(t.then)for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e);Me(t,e,n,r)};var Be=b.unmount;function We(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=$e({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return We(t,e,n)}))),t}function ze(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return ze(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function qe(){this.__u=0,this.t=null,this.__b=null}function Je(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ve(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Be&&Be(t)},(qe.prototype=new W).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=Je(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=ze(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(s,s)},qe.prototype.componentWillUnmount=function(){this.t=[]},qe.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=We(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__a&&j(B,null,t.fallback);return o&&(o.__u&=-33),[j(B,null,e.__a?null:t.children),o]};var Ke=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Ve.prototype=new W).__a=function(t){var e=this,n=Je(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),Ke(e,t,r)):o()};n?n(i):i()}},Ve.prototype.render=function(t){this.u=null,this.o=new Map;var e=Z(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){Ke(t,n,e)}))};var Ge="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ze=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Xe=/[A-Z0-9]/g,Ye="undefined"!=typeof document,tn=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};W.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(W.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var en=b.event;function nn(){}function rn(){return this.cancelBubble}function on(){return this.defaultPrevented}b.event=function(t){return en&&(t=en(t)),t.persist=nn,t.isPropagationStopped=rn,t.isDefaultPrevented=on,t.nativeEvent=t};var sn={enumerable:!1,configurable:!0,get:function(){return this.class}},an=b.vnode;b.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={},o=-1===n.indexOf("-");for(var i in e){var s=e[i];if(!("value"===i&&"defaultValue"in e&&null==s||Ye&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===s?s="":"translate"===a&&"no"===s?s=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||tn(e.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":Qe.test(i)&&(i=a):a=i="oninput":o&&Ze.test(i)?i=i.replace(Xe,"-$&").toLowerCase():null===s&&(s=void 0),"oninput"===a&&r[i=a]&&(i="oninputCapture"),r[i]=s}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=Z(e.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=Z(e.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",sn)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=Ge,an&&an(t)};var cn=b.__r;b.__r=function(t){cn&&cn(t),t.__c};var ln=b.diffed;b.diffed=function(t){ln&&ln(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value)};const un=function(t){function e(e){var n=$e({},e);return delete n.ref,t(n,e.ref||null)}return e.$$typeof=je,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}(((t,e)=>{const n=ce(),r=n.display,o=function(){const t=ce();return function(e,...n){return t.translator.translate(e,...n)}}(),{currentPage:i,setPage:s,goPage:a,getTotalPage:c,pageRange:l}=((t,e)=>{const n=Yt(),r=Oe(e),o=Oe(0),{server:i,pageRange:s,pageSize:a,resetPageOnUpdate:c}=t;Xt((()=>{t.eventEmitter.emit("rendered")}),[]),Xt((()=>(i&&(i.pageUrl||i.pageBody)?(n.current=new ue({limit:a,page:r.value,url:i.pageUrl,body:i.pageBody}),t.pipeline.on("afterProcess",(t=>{t&&t instanceof Et&&(o.value=t.length)}))):(n.current=new le({limit:a,page:r.value}),n.current.on("beforeProcess",(t=>{o.value=t.length}))),t.pipeline.register(n.current),t.pipeline.on("updated",l),t.pipeline.on("error",(()=>{o.value=0,r.value=0})),()=>{t.pipeline.unregister(n.current),t.pipeline.off("updated",l)})),[t,e]);const l=t=>{c&&t!==n.current&&(r.value=0,n.current&&0!==n.current.props.page&&n.current.setProps({page:0}))},u=t=>{t<0||t===r.value||t>_()||(r.value=t,n.current?.setProps({page:t}))},_=()=>Math.ceil(o.value/t.pageSize);return{currentPage:r,setPage:u,goPage:(e,n)=>{"prev"===n&&t.eventEmitter.emit("previousClick",e),"next"===n&&t.eventEmitter.emit("nextClick",e),n||t.eventEmitter.emit("pageClick",e),1===e?t.eventEmitter.emit("isFirstPage"):e===_()&&t.eventEmitter.emit("isLastPage"),u(e)},getTotalPage:_,pageRange:s}})(n,n.pageNumber);te(e,(()=>({setPage:s,currentPage:i.value,totalPage:c()})));return j("div",{className:At(It(n.className.pageList||""))},r.showPrevious&&i.value<=1?!r.autoHidePrevious&&j(Rt,{key:"prev",option:n,text:o("pagination.previous")}):j($t,{key:"prev",onClick:()=>a(i.value-1,"prev"),option:n,text:o("pagination.previous")}),r.showPageNumbers&&(()=>{const t=c(),e=[];if(l<0)return e;let s=i.value-l,u=i.value+l;if(u>t&&(u=t,s=u-2*l,s=s<1?1:s),s<=1&&(s=1,u=Math.min(2*l+1,t)),0===l){for(let r=1;r<=t;r++)e.push(j(Tt,{page:r,isActive:i.value===r,onClick:()=>a(r),option:n,lang:o,text:o("pagination.page",r+1)}));return e}if(s<=3)for(let t=1;t<s;t++)e.push(j(Tt,{page:t,isActive:!1,onClick:()=>a(t),option:n,lang:o}));else r.hideFirstOnEllipsisShow||e.push(j(Tt,{page:1,isActive:!1,onClick:()=>a(1),option:n,lang:o})),e.push(j(Ot,{key:"ellipsis-start",option:n,lang:o}));for(let t=s;t<=u;t++)e.push(j(Tt,{page:t,isActive:i.value===t,onClick:()=>a(t),option:n,lang:o}));if(u>=t-2)for(let r=u+1;r<=t;r++)e.push(j(Tt,{page:r,isActive:!1,onClick:()=>a(r),option:n,lang:o}));else e.push(j(Ot,{key:"ellipsis-end",option:n,lang:o})),r.hideLastOnEllipsisShow||e.push(j(Tt,{page:t,isActive:!1,onClick:()=>a(t),option:n,lang:o}));return e})(),r.showNext&&i.value>=c()?!r.autoHideNext&&j(Rt,{key:"next",option:n,text:o("pagination.next")}):j($t,{key:"next",onClick:()=>a(i.value+1,"next"),option:n,text:o("pagination.next")}))}));function _n(){return ce().state}function fn(t){const e=_n(),n=Oe(t(e.getState()));return Xt((()=>e.subscribe((()=>{const r=t(e.getState());n.value!==r&&(n.value=r)}))),[]),n.value}function pn(){const t=ce(),{dispatch:e}=_n(),n=fn((t=>t.status)),r=fn((t=>t.tabular)),o={current:null},i=Yt(null),s=((t,e=100)=>{let n,r=Date.now();const o=(...e)=>{r=Date.now(),t(...e)};return(...t)=>{const i=Date.now()-r;i>=e?o(...t):(n&&clearTimeout(n),n=setTimeout((()=>{o(...t),n=0}),e-i))}})((async()=>{e((t=>({...t,status:D.Loading})));try{const r=await t.pipeline.process();r instanceof Et&&e((n=r,t=>n?{...t,tabular:n,status:D.Loaded}:t)),Promise.resolve().then((()=>{e((t=>t.status===D.Loaded?{...t,status:D.Rendered}:t))}))}catch(t){A.error(t),e((t=>({...t,tabular:null,status:D.Error})))}var n}),100);return Xt((()=>{var n;return e((n=t.header,t=>({...t,header:n}))),s(),t.pipeline.on("updated",s),()=>t.pipeline.off("updated",s)}),[]),Xt((()=>{t.header&&n===D.Loaded&&r?.length&&t.eventEmitter.emit("ready")}),[r,t,o]),Xt((()=>{const e=o.current;e&&t.container&&("bottom"===t.position?t.container.appendChild(e):t.container.insertBefore(e,t.container.firstChild))}),[]),Xt((()=>{const e=t=>{i.current&&i.current.setPage(t)};return t.eventEmitter.on("go",e),()=>t.eventEmitter.off("go",e)}),[i]),Xt((()=>{t.dataRender&&n===D.Rendered&&r?.length&&i.current&&(t.eventEmitter.emit("beforePaging",i.current.currentPage),t.dataRender(r.toArray()),t.eventEmitter.emit("afterPaging",i.current.currentPage))}),[n]),j("div",{ref:o,className:At(It("pagination"),t.className.container)},j(un,{ref:i}))}class hn{callbacks={};init(t){t&&!this.callbacks[t]&&(this.callbacks[t]=[])}checkListener(t){if("function"!=typeof t)throw new TypeError("The listener must be a function")}hasEvent(t){return void 0!==this.callbacks[t]}listeners(){return this.callbacks}addListener(t,e){return this.on(t,e)}clearListener(t){return t?this.callbacks[t]=[]:this.callbacks={},this}on(t,e){return this.checkListener(e),this.init(t),this.callbacks[t].push(e),this}off(t,e){e&&this.checkListener(e);const n=t;return this.init(),this.callbacks[n]&&0!==this.callbacks[n].length?(this.callbacks[n]=e?this.callbacks[n].filter((t=>t!==e)):[],this):this}emit(t,...e){const n=t;if(this.init(n),this.callbacks[n].length<=0)return!1;const r=this.callbacks[n].map((t=>{try{const n=t(...e);return n instanceof Promise?n:Promise.resolve(n)}catch(t){return console.error(`Error in event listener for event: ${n}`,t),Promise.resolve()}}));return!r.some((t=>t instanceof Promise))||Promise.all(r).then((()=>!0)).catch((t=>(console.error(`Error handling promises for event: ${n}`,t),!1)))}once(t,e){this.checkListener(e);const n=(...r)=>{const o=e(...r);return this.off(t,n),o instanceof Promise?o:Promise.resolve(o)};return this.on(t,n)}}class dn extends hn{static version="2.1.14";config;constructor(t){super(),this.config=(new Ut).assign({instance:this,eventEmitter:this}).update(t)}get version(){return dn.version}updateConfig(t){return this.config.update(t),this}forceRender(){return this.config&&this.config.options.container?(this.emit("beforeDestroy"),this.destroy(),this.emit("afterDestroy"),st(this.createElement(),this.config.options.container),this):A.error("Container is empty. Make sure you call render() before forceRender()",!0)}destroy(){if(this.config.options.pipeline.clearCache(),!this.config.options.container)return A.error("Container is empty. Make sure you call render() before destroy()",!0);st(null,this.config.options.container)}render(t){return t||A.error("Container element cannot be null",!0),t.childNodes.length>0?(A.error(`The container element ${t} is not empty. Make sure the container is empty and call render() again`),this):(this.config.options.container=t,st(this.createElement(),t),this)}createElement(){return j(Dt.Provider,{value:this.config,children:j(pn,{})})}}t.Paginator=dn,t.h=j,t.html=wt}));
